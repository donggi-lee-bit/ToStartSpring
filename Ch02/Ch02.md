# 자바와 절차적 / 구조적 프로그래밍

## 자바 프로그램의 개발과 구동
자바 개발 도구인 JDK를 이용해 개발된 프로그램은 JRE에 의해 가상의 컴퓨터인 JVM 상에서 구동된다.
- 게임 내의 가상의 컴퓨터는 JVM
- 가상의 컴퓨터를 제어하는 운영체제가 JRE
    - 자바 프로그램 실행기인 java.exe를 포함하고 있다
- 가상의 세계에서 아바타가 사용한 개발 도구가 JDK
    - JDK 는 자바 소스 컴파일러인 javac.exe를 포함

### 자바의 특성 (Write Once Run Anywhere)
각 플랫폼에 맞게 JVM이 중재자로서 프로그램을 구동하는데 아무 문제가 없게끔 만들어주는 것

### 프로그램의 메모리 구조

```코드 실행 영역 | 데이터 저장 영역```

### 객체 지향 프로그램의 메모리 사용 방식

```
코드 실행 영역 | static 영역
            | Stack 영역 | Heap 영역
```
T 메모리 구조

## 자바의 절차적 / 구조적 프로그래밍
- 절차적 프로그래밍 : goto 쓰지마 
- 구조적 프로그래밍 : 함수를 써라, 전역 변수보다는 지역 변수를 써라

### 함수와 메서드의 차이
- 다른 게 없다
- 굳이 찾자면 함수는 클래스나 객체와 관계가 없지만 메서드는 반드시 클래스 정의 안에 존재해야한다.

## main() 메서드
T 메모리 구조
```
static : 클래스들의 놀이터
stack : 메서드들의 놀이터 | heap : 객체들의 놀이터
```
- main() 메서드가 실행되기 전, JVM에서 수행하는 전처리 작업
    - ```java.lang 패키지```를 T 메모리의 ```static``` 영역에 배치
    - ```import된 패키지```를 T 메모리의 ```static``` 영역에 배치
    - 프로그램 상의 ```모든 클래스```를 T 메모리의 ```static``` 영역에 배치

## 지역 변수와 메모리

### 지역 변수
스택 영역, 스택 프레임 안에서 일생을 보내고 스택 프레임이 사라지면 함께 사라진다

### 클래스 멤버 변수
스태틱 영역, JVM이 종료될때까지 고정된(static) 상태로 있다

### 객체 멤버 변수
힙 영역, 객체와 함께 가비지 컬렉터라고 하는 힙 메모리 회수기에 의해 사라진다

### Call by Value 
- 값에 의한 호출
- main() 메서드가 가진 변수 k와 square() 메서드가 가진 변수 k가 이름만 같지 실제로는 서로 별도의 변수 공간이다.
    - square() 메서드 안의 k 변수에 무슨 짓을 해도 main() 메서드 안의 k 변수는 영향이 없다.

### 전역 변수
- 전역 변수를 쓰지 말라고 하는 이유 : 프로젝트 규모에 따라 코드가 커지면서 여러 메서드에서 전역 변수의 값을 변경하기 시작하면 T 메모리로 추적하지 않는 이상 전역 변수에 저장돼 있는 값을 파악하기 쉽지 않기 때문이다.

## 멀티 스레드 / 멀티 프로세스의 이해

### 멀티 스레드
- 스택 영역을 스레드 개수만큼 분할해서 쓰는 것
- 하나의 메모리만 사용하여 그 중 스택 영역만 분할해서 사용하는 구조이다.
    - 다른 스레드의 스택 영역에는 접근할 수 없다.
    - 스태틱 영역과 힙 영역은 공유한다
    - 멀티 프로세스 대비 메모리를 적게 사용한다.

### 멀티 프로세스
- 다수의 데이터 저장 영역, 즉 다수의 T 메모리 구조를 갖는다.
- 각 프로세스마다 각자의 메모리가 있고 각자 고유의 공간이므로 서로 참조할 수 없다.
    - 그만큼 메모리 사용량이 크다.

